/*
 * This file was automatically generated by EvoSuite
 * Sun Nov 07 01:12:43 GMT 2021
 */

package me.prettyprint.cassandra.connection.client;

import org.junit.Test;
import static org.junit.Assert.*;
import static org.evosuite.runtime.EvoAssertions.*;
import javax.security.auth.login.LoginException;
import me.prettyprint.cassandra.connection.client.HSaslThriftClient;
import me.prettyprint.cassandra.service.CassandraHost;
import org.apache.thrift.transport.TTransport;
import org.evosuite.runtime.EvoRunner;
import org.evosuite.runtime.EvoRunnerParameters;
import org.junit.runner.RunWith;

@RunWith(EvoRunner.class) @EvoRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true, separateClassLoader = true, useJEE = true) 
public class HSaslThriftClient_ESTest extends HSaslThriftClient_ESTest_scaffolding {

  @Test(timeout = 4000)
  public void test0()  throws Throwable  {
      CassandraHost cassandraHost0 = new CassandraHost("2 |]nq{R2I6;{*", (-65536));
      // EXCEPTION DIFF:
      // The original version did not exhibit this exception:
      //     java.lang.IllegalArgumentException : object is not an instance of declaring class
      cassandraHost0.setMaxFrameSize((-65536));
      // EXCEPTION DIFF:
      // The modified version did not exhibit this exception:
      //     javax.security.auth.login.LoginException : java.lang.IllegalArgumentException: Empty nameString not allowed
      // 	at sun.security.krb5.PrincipalName.validateNameStrings(PrincipalName.java:179)
      // 	at sun.security.krb5.PrincipalName.<init>(PrincipalName.java:402)
      // 	at sun.security.krb5.PrincipalName.<init>(PrincipalName.java:477)
      // 	at com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:650)
      // 	at com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)
      // 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      // 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
      // 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      // 	at java.lang.reflect.Method.invoke(Method.java:498)
      // 	at javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)
      // 	at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)
      // 	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)
      // 	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)
      // 	at java.security.AccessController.doPrivileged(Native Method)
      // 	at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)
      // 	at javax.security.auth.login.LoginContext.login(LoginContext.java:587)
      // 	at me.prettyprint.cassandra.connection.client.HSaslThriftClient.openKerberosTransport(HSaslThriftClient.java:135)
      // 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      // 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
      // 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
      // 	at java.lang.reflect.Method.invoke(Method.java:498)
      // 	at org.evosuite.testcase.statements.MethodStatement$1.execute(MethodStatement.java:257)
      // 	at org.evosuite.testcase.statements.AbstractStatement.exceptionHandler(AbstractStatement.java:169)
      // 	at org.evosuite.testcase.statements.MethodStatement.execute(MethodStatement.java:220)
      // 	at org.evosuite.testcase.execution.TestRunnable.executeStatements(TestRunnable.java:307)
      // 	at org.evosuite.testcase.execution.TestRunnable.call(TestRunnable.java:213)
      // 	at org.evosuite.testcase.execution.TestRunnable.call(TestRunnable.java:55)
      // 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
      // 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
      // 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
      // 	at java.lang.Thread.run(Thread.java:748)
      try { 
        HSaslThriftClient.openKerberosTransport((TTransport) null, "[/]", "");
       //  fail("Expecting exception: LoginException");
       // Unstable assertion
      } catch(LoginException e) {
         //
         // java.lang.IllegalArgumentException: Empty nameString not allowed
         // \tat sun.security.krb5.PrincipalName.validateNameStrings(PrincipalName.java:179)
         // \tat sun.security.krb5.PrincipalName.<init>(PrincipalName.java:402)
         // \tat sun.security.krb5.PrincipalName.<init>(PrincipalName.java:477)
         // \tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:650)
         // \tat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)
         // \tat sun.reflect.GeneratedMethodAccessor39.invoke(Unknown Source)
         // \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
         // \tat java.lang.reflect.Method.invoke(Method.java:498)
         // \tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)
         // \tat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)
         // \tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)
         // \tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)
         // \tat java.security.AccessController.doPrivileged(Native Method)
         // \tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)
         // \tat javax.security.auth.login.LoginContext.login(LoginContext.java:587)
         // \tat me.prettyprint.cassandra.connection.client.HSaslThriftClient.openKerberosTransport(HSaslThriftClient.java:135)
         // \tat sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source)
         // \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
         // \tat java.lang.reflect.Method.invoke(Method.java:498)
         // \tat org.evosuite.testcase.statements.MethodStatement$1.execute(MethodStatement.java:257)
         // \tat org.evosuite.testcase.statements.AbstractStatement.exceptionHandler(AbstractStatement.java:169)
         // \tat org.evosuite.testcase.statements.MethodStatement.execute(MethodStatement.java:220)
         // \tat org.evosuite.testcase.execution.TestRunnable.executeStatements(TestRunnable.java:307)
         // \tat org.evosuite.testcase.execution.TestRunnable.call(TestRunnable.java:213)
         // \tat org.evosuite.testcase.execution.TestRunnable.call(TestRunnable.java:55)
         // \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)
         // \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
         // \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
         // \tat java.lang.Thread.run(Thread.java:748)
         //
         verifyException("javax.security.auth.login.LoginContext", e);
         assertTrue(e.getMessage().equals("java.lang.IllegalArgumentException: Empty nameString not allowed\n\tat sun.security.krb5.PrincipalName.validateNameStrings(PrincipalName.java:179)\n\tat sun.security.krb5.PrincipalName.<init>(PrincipalName.java:402)\n\tat sun.security.krb5.PrincipalName.<init>(PrincipalName.java:477)\n\tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:650)\n\tat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\n\tat sun.reflect.GeneratedMethodAccessor39.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\n\tat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\n\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\n\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\n\tat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\n\tat me.prettyprint.cassandra.connection.client.HSaslThriftClient.openKerberosTransport(HSaslThriftClient.java:135)\n\tat sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.evosuite.testcase.statements.MethodStatement$1.execute(MethodStatement.java:257)\n\tat org.evosuite.testcase.statements.AbstractStatement.exceptionHandler(AbstractStatement.java:169)\n\tat org.evosuite.testcase.statements.MethodStatement.execute(MethodStatement.java:220)\n\tat org.evosuite.testcase.execution.TestRunnable.executeStatements(TestRunnable.java:307)\n\tat org.evosuite.testcase.execution.TestRunnable.call(TestRunnable.java:213)\n\tat org.evosuite.testcase.execution.TestRunnable.call(TestRunnable.java:55)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\n"));   
      }
  }
}
